sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,r){"use strict";return e.extend("sap.ui.demo.todo.controller.App",{onInit:function(){this.aSearchFilters=[];this.aTabFilters=[]},addTodo:function(){var e=this.getView().getModel();var t=e.getProperty("/todos").map(function(e){return Object.assign({},e)});t.push({title:e.getProperty("/newTodo"),completed:false});e.setProperty("/todos",t);e.setProperty("/newTodo","")},clearCompleted:function(){var e=this.getView().getModel();var t=e.getProperty("/todos").map(function(e){return Object.assign({},e)});var r=t.length;while(r--){var i=t[r];if(i.completed){t.splice(r,1)}}e.setProperty("/todos",t)},updateItemsLeftCount:function(){var e=this.getView().getModel();var t=e.getProperty("/todos")||[];var r=t.filter(function(e){return e.completed!==true}).length;e.setProperty("/itemsLeftCount",r)},onSearch:function(e){var i=this.getView().getModel();this.aSearchFilters=[];var s=e.getSource().getValue();if(s&&s.length>0){i.setProperty("/itemsRemovable",false);var o=new t("title",r.Contains,s);this.aSearchFilters.push(o)}else{i.setProperty("/itemsRemovable",true)}this._applyListFilters()},onFilter:function(e){this.aTabFilters=[];var i=e.getParameter("item").getKey();switch(i){case"active":this.aTabFilters.push(new t("completed",r.EQ,false));break;case"completed":this.aTabFilters.push(new t("completed",r.EQ,true));break;case"all":default:}this._applyListFilters()},_applyListFilters:function(){var e=this.byId("todoList");var t=e.getBinding("items");t.filter(this.aSearchFilters.concat(this.aTabFilters),"todos")}})});